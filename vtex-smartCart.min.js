/**
* VTEX Smart Cart
* @author Carlos Vinicius [ QUATRO DIGITAL ]
* @version 4.4
* @license MIT <http://pt.wikipedia.org/wiki/Licen%C3%A7a_MIT>
*/
"function"!==typeof jQuery.fn.vtexPopUp2&&(jQuery.fn.vtexPopUp2=function(e){var g=jQuery(this);if(1>g.length)return g;var b=jQuery("body"),f=b.find(".boxPopUp2"),m="object"==typeof console;1>f.length&&(f=jQuery('<div class="boxPopUp2"><div class="boxPopUp2-wrap"><span class="boxPopUp2-close"></span><div class="boxPopUp2-content"></div></div></div>'),b.prepend(f),f.after('<div class="boxPopUp2-overlay"></div>'));var d=jQuery.extend({popupType:null,closeContent:null,popupClass:"",quickViewClass:".quickViewLink",
initCallback:function(){},showCallback:function(){},closeCallback:function(){}},e);e=f.find(".boxPopUp2-close");var h=f.find(".boxPopUp2-content"),n=b.find(".boxPopUp2-close, .boxPopUp2-overlay"),t=b.find(".boxPopUp2-overlay"),q=jQuery(document);null!=d.closeContent&&e.html(d.closeContent);var c={positioning:function(){var a=q.scrollTop(),c=jQuery(window).height(),b=f.outerHeight(!0);f.css("top",a+(b>=c?20:(c-b)/2)+"px")},show:function(a){a=a||{};t.fadeTo("fast",0.5,function(){f.show().addClass("popupOpened");
"boolean"===typeof a.loading&&!0===a.loading?c.showLoading():c.hideLoading();"function"===typeof a.callback&&a.callback();d.showCallback(f)})},hideLoading:function(){h.filter(":visible").css("background-image","none")},showLoading:function(){h.filter(":visible").css("background-image",'url("/arquivos/ajax-loader.gif")')},close:function(a){a=a||{};var c=function(){t.fadeOut("fast");f.fadeOut("fast",function(){h.empty()});h.attr("class","boxPopUp2-content");f.attr("class","boxPopUp2")};"boolean"==typeof a.closeNow&&
!0==a.closeNow&&c();1>n.filter(".boxPopUp2-clickActive").length&&(n.addClass("boxPopUp2-clickActive").bind("click",function(){"function"===typeof a.clickCallback?a.clickCallback():d.closeCallback(f);c()}),q.bind("keyup",function(a){27==(a.keyCode?a.keyCode:a.which)&&c()}));if(g.hasClass("autoClose")){var b=(g.attr("class")||"").split("ac_").pop().split(" ").shift();if(isNaN(parseFloat(b)))return m&&console.log("[Erro] O tempo informado (em segundos) n\u00e3o \u00e9 um valor num\u00e9rico: \u201c"+
b+"\u201d"),!1;setTimeout(function(){c()},1E3*b)}},setType:function(a){if(a.hasClass("quickViewLink"))c.quickView(a);else if(a.hasClass("giftListWrap"))c.giftList(a);else if(a.hasClass("installmentInfoTpl"))c.paymentForms(a);else if(a.hasClass("shipping-value"))c.calculateShipping(a);else if(a.hasClass("freeContent"))c.freeContent(a);else if(a.hasClass("boxPopUp2"))c.closeNow(a);else if(a.hasClass("referAFriendTpl"))c.productReferAFriend(a);else if(0<a.filter("#btnReferAFriend").length)c.giftListReferFriend(a);
else if(0<a.filter("#lnkPubliqueResenha").length)c.postRatingComment(a);else if(0<a.filter("#palerta").length)c.cartCheckoutAlert(a);else if(a.hasClass("lnkAddPhoto"))d.popupType="minhaContaFoto",c.userAccount(a);else return!1},checkType:function(a){"cadastroCliente"===d.popupType||"minhaContaFoto"===d.popupType?c.userAccount(a):"newsletter"===d.popupType?c.newsletter(a):"quickview"===d.popupType?c.quickView(a):"giftlist"===d.popupType?c.giftList(a):"paymentforms"===d.popupType?c.paymentForms(a):
"shipping"===d.popupType?c.calculateShipping(a):"string"==typeof d.popupType&&"freecontent"===d.popupType.toLowerCase()?c.freeContent(a):"closenow"===d.popupType?c.closeNow(a):"GiftListReferAFriend"===d.popupType?c.giftListReferFriend(a):"postRatingComment"===d.popupType?c.postRatingComment(a):c.freeContent(a)},exec:function(){g.each(function(){var a=$(this);null===d.popupType?c.setType(a):!1===c.checkType(a)&&c.setType(a)});d.initCallback()},userAccount:function(a){var b="";"cadastroCliente"===d.popupType?
b="signInPopups":"minhaContaFoto"===d.popupType&&(b="profilePhoto");a.unbind().removeAttr("onclick");var e=a.attr("href")||"";a.bind("mouseenter",function(){a.unbind().bind("click",function(){f.addClass(d.popupClass+" "+b+"Main");""===e&&m&&console.log("N\u00e3o existe URL no atributo href");jQuery('<iframe src="'+e+'" frameborder="0" allowtransparency="true"></iframe>').appendTo(h.addClass(d.popupClass+" "+b));c.show({loading:!0});c.positioning();c.close();return!1})})},newsletter:function(a){a.clone().appendTo(h.addClass(d.popupClass+
" newsletterPopup"));f.addClass(d.popupClass+" newsletterMain");c.show();c.positioning();c.close()},quickView:function(a){a=b.find(d.quickViewClass);var e=function(){a.filter(":not(.quickViewLinkActivated)").addClass("quickViewLinkActivated").bind("click",function(){jQuery('<iframe src="'+jQuery(this).attr("href")+'" frameborder="0" allowtransparency="true"></iframe>').appendTo(h.addClass(d.popupClass+" productQuickView"));f.addClass(d.popupClass+" quickViewMain");c.show({loading:!0});c.positioning();
c.close();return!1})};e();q.ajaxStop(e)},paymentForms:function(a){var e="",g=function(){var a=b.find(".see-other-payment-method-link");if(1>a.length)return m&&console.log("Url das formas de pagamento n\u00e3o encontrado. \n Verifique se o controle esta na p\u00e1gina.\n("+a.selector+")"),!1;e=/http:(.*?)(?=\&)/.exec(a[0].getAttribute("onclick").toString())[0]||"#onclickError"};g();a.bind("click",function(){jQuery("<iframe src='"+e+"' frameborder='0' allowtransparency='true'></iframe>").appendTo(h.addClass(d.popupClass+
" paymentFormsPopup"));f.addClass(d.popupClass+" paymentFormsMain");c.show({loading:!0});c.positioning();c.close();return!1});q.ajaxStop(g)},calculateShipping:function(){q.ajaxStop(function(){var a=b.find("#calculoFrete").children();if(1>a.length)return!1;a.find("span.cep-busca a").attr("target","_blank");a.appendTo(h.addClass(d.popupClass+" shippingCalculationPopup"));f.addClass(d.popupClass+" shippingCalculationMain");c.show();c.positioning();c.close()})},giftList:function(a){a.appendTo(h.addClass(d.popupClass+
" giftListPopup"));f.addClass(d.popupClass+" giftListMain");c.show();c.positioning();c.close({clickCallback:d.closeCallback})},cartCheckoutAlert:function(a){a.appendTo(h.addClass(d.popupClass+" cartCheckoutAlertPopup"));f.addClass(d.popupClass+" cartCheckoutAlertMain");c.show();c.positioning();c.close()},freeContent:function(a){a.appendTo(h.addClass(d.popupClass+" freeContentPopup"));f.addClass(d.popupClass+" freeContentMain");c.show();c.positioning();c.close()},closeNow:function(){c.close({closeNow:!0})},
giftListReferFriend:function(a){var b=function(){var a=$(this).attr("href");if("undefined"===typeof a||""===a)return m&&console.log("[Erro] Url do popup n\u00e3o encontrada."),!1;h.addClass(d.popupClass+" freeContentPopup").load(a);f.addClass(d.popupClass+" giftListReferFriendMain");c.show({loading:!0});c.positioning();c.close();return!1},e=function(){a.unbind().bind("mouseenter",function(){a.unbind().bind("click",b)})};e();q.ajaxStop(e)},productReferAFriend:function(a){var b=jQuery('<div class="referAFriendPopUpWrap"></div>');
a.bind("click",function(){var a=(jQuery(this).parent().find("#div-referAFriend input").attr("onclick")||"").toString(),a=/\/referAFriend\/Form\/[0-9]+\?/i.exec(a);if(null===a)return alert("Desculpe, n\u00e3o foi poss\u00edvel abrir o formul\u00e1rio."),!1;b.empty().load(a[0],function(){c.positioning()});b.appendTo(h.addClass(d.popupClass+" freeContentPopup"));f.addClass(d.popupClass+" freeContentMain");c.show();c.positioning();c.close();return!1});q.ajaxStop(function(){0<h.find(".referAFriendPopUpWrap #btnFechar").length&&
setTimeout(c.closeNow,1500)})},postRatingComment:function(a){a=a.filter(":not(.popUpPublishReviewActivated)");var b=!1;if(1>a.length)return!1;a.bind("click",function(){var a=jQuery(this).attr("href")||"";if(""===a)return m&&console.log("[Erro] N\u00e3o foi poss\u00edvel obter os dados para abrir o popup de resenha."),!1;a=a.split(")").shift().split("(").pop().split(",");if(3!=a.length)return m&&console.log("[Erro] O array com os dados do cliente retornou um valor inesperado."),!1;if(b)return!1;b=
!0;jQuery.ajax({url:"/publishuserreviewcomment",type:"POST",data:{productId:a[1],clientId:a[0],categoryId:a[2]},success:function(a){var e=jQuery(a);h.addClass(d.popupClass+" userReviewPopup").html(e);f.addClass(d.popupClass+" userReviewPopupMain");c.show({callback:function(){e.find("#txtTituloResenha:hidden").val("titulo_auto");var a=h.find("a#rtAvaliacao_A0"),b=function(){a.attr("title",a.find(".filledRatingStar:last").index()+1||0)};a.find("span").bind("mouseenter",b);a.bind("mouseleave",b)}});
c.positioning();c.close();b=!1},error:function(){b=!1}});return!1}).addClass("popUpPublishReviewActivated");0==jQuery.fn.vtexPopUp2.data.userReviewCount&&q.ajaxStop(function(){h.hasClass("userReviewPopup")&&0==h.find(".formUserComment").children().length&&c.closeNow()});jQuery.fn.vtexPopUp2.data.userReviewCount++}};c.exec();return g},jQuery.fn.vtexPopUp2.data={userReviewCount:0});
(function(e){"function"!==typeof e.qdAjax&&(e.qdAjaxQueue={},e.qdAjax=function(g){var b,f;b=e.extend({},{success:function(){},error:function(){},complete:function(){},clearQueueDelay:0},g);f=escape(encodeURIComponent(b.url));e.qdAjaxQueue[f]=e.qdAjaxQueue[f]||{};e.qdAjaxQueue[f].opts=e.qdAjaxQueue[f].opts||[];e.qdAjaxQueue[f].opts.push({success:function(e,d,f){b.success.call(this,e,d,f)},error:function(e,d,f){b.error.call(this,e,d,f)},complete:function(e,d){b.complete.call(this,e,d)}});g=e.extend({},
b,{success:function(b,d,g){for(var n in e.qdAjaxQueue[f].opts)"object"===typeof e.qdAjaxQueue[f].opts[n]&&(e.qdAjaxQueue[f].opts[n].success.call(this,b,d,g),e.qdAjaxQueue[f].opts[n].success=function(){})},error:function(b,d,g){for(var n in e.qdAjaxQueue[f].opts)"object"===typeof e.qdAjaxQueue[f].opts[n]&&(e.qdAjaxQueue[f].opts[n].error.call(this,b,d,g),e.qdAjaxQueue[f].opts[n].error=function(){})},complete:function(g,d){for(var h in e.qdAjaxQueue[f].opts)"object"===typeof e.qdAjaxQueue[f].opts[h]&&
(e.qdAjaxQueue[f].opts[h].complete.call(this,g,d),e.qdAjaxQueue[f].opts[h].complete=function(){});setTimeout(function(){e.qdAjaxQueue[f].jqXHR=void 0;e.qdAjaxQueue[f].opts=void 0},b.clearQueueDelay)}});"undefined"===typeof e.qdAjaxQueue[f].jqXHR&&(e.qdAjaxQueue[f].jqXHR=e.ajax(g))})})(jQuery);
"function"!==typeof jQuery.fn.simpleCart&&("function"!==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),function(e){e.fn.simpleCart=jQuery.fn.vtexCart=function(b){var f,g,d,h,n,t;g=function(b,c){"object"===typeof console&&("undefined"!==typeof c&&"alerta"===c.toLowerCase()?console.warn("[Simple Cart] "+b):"undefined"!==typeof c&&"info"===c.toLowerCase()?console.info("[Simple Cart] "+b):console.error("[Simple Cart] "+b))};f=jQuery(this);if(!f.length)return f;
e.fn.simpleCart.elements=e.fn.simpleCart.elements.add(f);h=jQuery.extend({cartQtt:".vtex-cartQtt",cartTotal:".vtex-cartTotal",itemsText:".vtex-ItemsText",callback:function(){}},b);d=jQuery("");f.data("qd_simpleCartOpts",h);n=function(b,c){var a=parseInt(b,10);isNaN(a)?g("O valor obtido para calcular o plural/singular n\u00e3o \u00e9 um n\u00famero!"):1===a?c.hide().filter(".singular").show():c.hide().filter(".plural").show()};t=function(b,c){var a;a=b.find(".amount-items-em").html();1>b.filter(".cartInfoWrapper").length||
(c.$this.show(),c.cartTotalE.html(b.find(".total-cart-em").html()),c.cartQttE.html(a),n(a,c.itemsTextE))};e.qdAjax({url:"/no-cache/QuantidadeItensCarrinho.aspx",success:function(b){f.each(function(){var c={},a;a=e(this);c.$this=a;c.cartQttE=a.find(h.cartQtt)||d;c.cartTotalE=a.find(h.cartTotal)||d;c.itemsTextE=a.find(h.itemsText)||d;t(e(b),c)})},error:function(){g("N\u00e3o foi poss\u00edvel fazer a requisi\u00e7\u00e3o p/ obter os dados do carrinho.");-1<document.location.host.indexOf("localhost")&&
f.show()},clearQueueDelay:500});h.callback();return f};e.fn.simpleCart.elements=e("");var g;"undefined"!==typeof ajaxRequestbuyButtonAsynchronous&&(g=ajaxRequestbuyButtonAsynchronous,ajaxRequestbuyButtonAsynchronous=function(b,f,m,d,h){g.call(this,b,f,m,d,function(){"function"===typeof h&&h();e.fn.simpleCart.elements.each(function(){var b;b=e(this);b.simpleCart(b.data("qd_simpleCartOpts"))})})});e(function(){e(".qd-CartAuto").simpleCart()})}(jQuery));
(function(e){e.fn.getAttributes=function(){var g={},b=e(this).first();if(!b.length)return this;e.each(b[0].attributes,function(b,e){g[e.name]=e.value});return g}})(jQuery);"function"!==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});"function"!=typeof String.prototype.capitalize&&(String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1).toLowerCase()});var vtexscCartHideTimeOut=0;
jQuery.fn.smartCart=function(e){var g,b,f,m,d,h,n,t,q,c,a,D,y,v,w,x,z;g=function(j,a){"object"===typeof console&&("object"===typeof a&&"alerta"===a.toLowerCase()?console.warn("[Smart Cart] "+j):"object"===typeof a&&"info"===a.toLowerCase()?console.info("[Smart Cart] "+j):console.error("[Smart Cart] "+j))};b=jQuery.extend({},{method:1,htmlFormat:2,skuThumbId:3,cartElem:".vtexsc-cart",listElem:".vtexsc-productList",scrollTop:".vtexsc-arrowTop",scrollDown:".vtexsc-arrowBottom",btnOverlayElem:".vtexsc-buttonOverlay",
errorElem:".vtexsc-error",successElem:".vtexsc-success",showCartBtn:".vtexsc-showCart",totalCart:".vtexsc-totalCart",buyButton:".vtexsc-buyButton",asynchronousClass:"btn-add-buy-button-asynchronous",simpleCartSelector:".qd-CartAuto",qttText:"",textRemove:"",textMoreOne:"",textMinusOne:"",firstOptionMsg:"Selecione um(a) ",ajaxErroMsg:"Houve um erro ao tentar adicionar/alterar seu produto no carrinho.",changeQttError:"A quantidade selecionada excede nossa disponibilidade de estoque atual.",skuNotSelected:"Selecione o(a) #groupName",
skuNotLocated:"N\u00e3o foi poss\u00edvel obter as informa\u00e7\u00f5es das varia\u00e7\u00f5es deste produto.\nVoc\u00ea ser\u00e1 redirecionado para a p\u00e1gina de detalhes deste produto.",skuUnavailable:"Esta varia\u00e7\u00e3o de produto n\u00e3o esta disponp\u00edvel no momento.",regularPricePopupHtml:'<div class="regularPrice">De: <span>R$ #regularPrice</span></div>',newPricePopupHtml:'<div class="newPrice">Por: <span>R$ #newPrice</span></div>',installmentPricePopupHtml:'<div class="installmentPrice">ou em at\u00e9 <span>#installmentQtt</span>X de <span>R$ #installmentValue</span> sem juros</div>',
fullPricePopupHtml:'<div class="fullPrice">\u00e0 vista</div>',currency:"R$",cartHideTime:5E3,notAjaxStop:!1,updateCart:!1,noCart:!1,noCartCallback:function(){},callback:function(){},ajaxCallback:function(){},succesShow:function(j){j.show()},cartShow:function(j,a){j.slideDown(a)},cartHide:function(j,a,b){clearTimeout(vtexscCartHideTimeOut);vtexscCartHideTimeOut=setTimeout(function(){a(j)},b)},resetNewItem:function(j){setTimeout(function(){j.removeClass("vtexsc-newItem")},2500)},getSkuHtml:function(j){return j.find("ul.topic")},
formatSkuPopup:function(j,a,b,c){var d,l,e,f,k;d=jQuery('<div class="skuWrap_"><div class="selectSkuTitle">Selecione a varia\u00e7\u00e3o do produto</div></div>');k=jQuery('<div class="vtexsm-prodTitle"></div>');l=jQuery('<div class="skuListWrap_"></div>');e=jQuery('<div class="vtexsc-buttonWrap clearfix"><a href="#" class="vtexsc-buyButton"></a></div>');f=jQuery('<div class="vtexsc-skusWrap"></div>');jQuery("div");j.appendTo(l);a.appendTo(f);l.appendTo(f);b.appendTo(f);k.append(c);k.appendTo(d);
f.appendTo(d);e.appendTo(d);return d}},e);f=jQuery(this);m=jQuery("");d=jQuery(b.cartElem);h=!0;e=!1;n={};1>f.length&&0<d.length&&(e=!0,h=!1);if(1>f.length&&h)return f;if(!b.noCart&&1>d.length&&h)return g("Elemento do carrinho n\u00e3o encontrado \n ("+d.selector+")"),!1;var p=d.find(b.listElem);if(!b.noCart&&1>p.length&&h)return g("Lista de produtos n\u00e3o encontrada \n ("+p.selector+")"),!1;jQuery(b.errorElem);t=jQuery(b.successElem)||m;q=jQuery(b.showCartBtn)||m;c={};a=d.find(b.scrollDown)||
m;D=d.find(b.scrollTop)||m;h=jQuery(b.totalCart)||m;y=jQuery("<span class='vtexsc-text'></span>");v=jQuery("<div class='vtexsc-overlay'></div>");w=m;h.children(".vtexsc-overlay").length||h.append(v);z=h.children(".vtexsc-text");z.length?x=z:(h.append(y),x=y);var k={buyButtons:function(){f.not(".vtexsm_activated").each(function(){var j=jQuery(this);!j.hasClass("actionActivated")&&k.buyAsynchronous(j)&&j.addClass("actionActivated").bind("click",function(){if("string"===typeof selecionarSKU&&-1<(j.attr("href")||
"").indexOf(selecionarSKU))return!0;var a=k.getSku(j);""!==a?k.skuToCart(j,a):g("O Sku n\u00e3o foi obtido! A execu\u00e7\u00e3o parou");return!1})}).addClass("vtexsm_activated")},buyAsynchronous:function(j){if(!j.hasClass(b.asynchronousClass))return!0;j.unbind("click").removeClass(b.asynchronousClass).addClass("asynchronousBuyButton");if(j.hasClass("remove-href"))return!0;k.multiplesSkus(j);return!1},multiplesSkus:function(j){j.bind("click",function(){var a,c,d,e;a=j.attr("href")||"";if(""==a)return g("N\u00e3o foi poss\u00edvel obter a URL para a p\u00e1gina do produto \n m\u00e9todo: multiplesSkus"),
!1;c=j.siblings(b.btnOverlayElem).show();d=jQuery('<div class="vtexsc-skuProductImage"></div>');e=jQuery('<div class="vtexsc-skuProductPrice"></div>');k.skuProductImg(d,j);jQuery.ajax({url:a,success:function(b){k.productSuccess(b,a,c,d,e,j)},error:function(){g("Erro ao requisitar a p\u00e1gina do produto via Ajax")}});return!1})},skuProductImg:function(a,b){k.getParent(b,"li").find("a[href$='/p'] img").first().clone().appendTo(a)},getParent:function(a,b){var c;c=a.parent();return c.is("html")?jQuery(""):
c.is(b)?c:c.length?k.getParent(c,b):c},productSuccess:function(a,c,d,e,f,l){var r,h,s;r=jQuery(a);a=b.getSkuHtml(r);h=!1;s=null;r.filter("script:not([src])").each(function(){var a=this.innerHTML;if(-1<a.indexOf("myJSONSkuSpecification"))return a=a.replace(":,",':"",').replace(":}",':""}').replace(":]",':""]'),eval(a),s=myJSONSkuSpecification,h=!0,!1});if(!h)return g("N\u00e3o foi poss\u00edvel localizar as especifica\u00e7\u00f5es do SKU. \n A p\u00e1gina ser\u00e1 redirecionada!"),setTimeout(function(){document.location.href=
c},500),!1;l=k.getParent(l,"li");r=l.find("a:first").attr("title");l="undefined"!=typeof r&&""!=r?r:l.find("a:eq(1)").text();b.formatSkuPopup(a,e,f,l).addClass("freeContent vtexsc-selectSku").vtexPopUp2({popupClass:"vtexsm-popupContent"});s=k.specificationsReorder(s);w=jQuery(b.buyButton)||m;l=a.find("[type=checkbox]");r=a.find("select.sku-selector");if(0<l.length)tempChks=jQuery(""),l.each(function(){var a=jQuery(this),b=a.getAttributes(),b=jQuery('<input type="radio" name="'+b.name+'" specification="'+
(b.specification||"")+'" class="'+(b["class"]||"")+'" id="'+(b.id||"")+'" value="'+b.value+'" />');a.after(b);a.remove();tempChks=tempChks.add(b)}),l=tempChks,d.hide(),1<s.specifications?k.multipleSkuConfigCheckbox(a,s,l,e,f):k.skuConfigCheckbox(a,s,l,e,f),k.buyButtonCheckbox(l,s,a,c,d);else if(0<r.length){if(1<r.length)return g("Este plugin ainda n\u00e3o suporta mais de 1 selectbox.");d.hide();k.skuConfigSelectbox(a,s,r,e,f);k.buyButtonSelectbox(r,s,a,c,d)}else g("Elemento n\u00e3o previsto")},
skuConfigSelectbox:function(a,c,d,e,f){var l;a=d.find("option:first");l=d.parent().siblings(".specification");""==a.text().trim()&&""!=b.firstOptionMsg&&a.text(b.firstOptionMsg+l.text().capitalize());d.change(function(){""!=$(this).val()&&k.actionsBySku(c,$(this).val(),e,f)})},buyButtonSelectbox:function(a,b,c,d,e){w.bind("click",function(){var d,f,h;f=a.val();if(""==f)return alert("Selcione a especifica\u00e7\u00e3o \u201c"+c.find(".specification").text()+"\u201d"),!1;if("undefined"==typeof b.skus[f])return g("N\u00e3o foi poss\u00edvel obter o SKU na lista de especifica\u00e7\u00f5es");
d=b.skus[f];h=function(b){b.Availability?(k.skuToCart(m,b.Id,void 0,e),jQuery(".boxPopUp2").vtexPopUp2()):alert("A especifica\u00e7\u00e3o \u201c"+a.find("[value="+f+"]").text()+"\u201d esta indispon\u00edvel.")};"object"==typeof n[d]?h(n[d][0]):jQuery.ajax({url:"/produto/sku/"+d,data:"json",success:function(a,b,c){"object"!==typeof a?g("Erro ao obter informa\u00e7\u00f5es do sku \u201c"+d+"\u201d."):0!=c.status?(obj=a[0],n[obj.Id]=a,h(obj)):g("Erro ao obter informa\u00e7\u00f5es do sku \u201c"+d+
"\u201d.")},error:function(){g("Erro ao obter informa\u00e7\u00f5es do sku \u201c"+d+"\u201d.")}});return!1})},buyButtonCheckbox:function(a,c,d,e,f){w.bind("click",function(){var l=a.filter(":checked");if(2>c.specifications)0<l.length?(l=c.skus[l.val()],"undefined"===typeof l?(alert(b.skuNotLocated),document.location.href=e):"False"===l[1]?alert(b.skuUnavailable):(k.skuToCart(m,l[0],void 0,f),jQuery(".boxPopUp2").vtexPopUp2())):(l=d.find(".specification").eq(0).text()||" varia\u00e7\u00e3o do produto",
alert(b.skuNotSelected.replace("#groupName",l)));else{var r=!1;d.each(function(){var a=jQuery(this);if(1>a.find("input:checked").length)return a=d.find(".specification").eq(a.index()).text()||" varia\u00e7\u00e3o do produto",alert(b.skuNotSelected.replace("#groupName",a)),r=!0,!1});if(!r){var g=[];l.each(function(){g.push(jQuery(this).val())});l=c.skus[g.join(",")];"undefined"===typeof l?(alert(b.skuNotLocated),document.location.href=e):"False"===l[1]?alert(b.skuUnavailable):(k.skuToCart(m,l[0],void 0,
f),jQuery(".boxPopUp2").vtexPopUp2())}}return!1})},specificationsReorder:function(a){var b={};"undefined"!==typeof a.specifications?b.specifications=a.specifications:g("N\u00e3o foi localizado o item \u201cspecifications\u201d do objeto com as especifica\u00e7\u00f5es de SKU.");if("undefined"!==typeof a.combination){var c=a.combination.length;b.combination={};for(var d=0;d<c;d++)for(var e in a.combination[d])if("string"===typeof a.combination[d][e])b.combination[e]=a.combination[d][e].split(",");
else for(var f in a.combination[d][e][0]){b.combination[e]=a.combination[d][e][0][f].split(",");break}}else g("N\u00e3o foi localizado o item \u201ccombination\u201d do objeto com as especifica\u00e7\u00f5es de SKU.");if("undefined"!==typeof a.skus){c=a.skus.length;b.skus={};for(d=0;d<c;d++)for(e in a.skus[d])b.skus[e]=a.skus[d][e].split(",")}else g("N\u00e3o foi localizado o item \u201cskus\u201d do objeto com as especifica\u00e7\u00f5es de SKU.");return b},getSku:function(a){return a.hasClass("asynchronousBuyButton")?
(a.attr("id")||"").replace("idprod",""):(a.attr("href")||"").split("dSku=")[1]||""},selectUniqueSku:function(a){a.each(function(){var a,b;a=$(this);b=a.find("input");1==b.length&&(b.attr("checked",!0).trigger("change").trigger("click"),a.hide())})},multipleSkuConfigCheckbox:function(a,b,c,d,e){2<b.specifications&&g("Esta exten\u00e3o n\u00e3o foi testada com mais de dois tipos de SKUs","Alerta");a.filter(":first").find("input").each(function(){var a=jQuery(this),c=a.val(),d,e,j=!0;if("undefined"!=
typeof c&&""!=c&&(d=b.combination[c],"undefined"!=typeof d)){e=d.length;for(var f=0;f<e;f++)"object"==typeof b.skus[c+","+d[f]]&&"True"==b.skus[c+","+d[f]][1]&&(j=!1);j&&a.addClass("item_unavaliable").next("label").addClass("item_unavaliable")}});c.bind("change",function(){var c,f,g;c=jQuery(this);g=c.attr("id").split("_");f=g[1]||g.pop();a.not(":eq("+f+")").find("input").each(function(){var a=jQuery(this),j;j="0"==f?c.val()+","+a.val():a.val()+","+c.val();"object"==typeof b.skus[j]&&(c.is(":checked")&&
a.is(":checked"))&&k.actionsBySku(b,j,d,e);"object"==typeof b.skus[j]&&"False"==b.skus[j][1]&&(a.addClass("item_unavaliable").next("label").addClass("item_unavaliable"),c.addClass("item_unavaliable").next("label").addClass("item_unavaliable"))})});k.selectUniqueSku(a);a.find("input").length<=a.length&&g("Deve ser desenvolvida uma fun\u00e7\u00e3o p/ varia\u00e7\u00f5es de SKUs em que todas tem apenas uma op\u00e7\u00e3o","Aviso")},actionsBySku:function(a,c,d,e){var f,l,h,m,s,p,q,A,B,C;f=d.find("img");
1>f.length&&(f=jQuery('<img src="" alt="" />'),d.append(f));l=a.skus[c][0];C=function(a){h=k.getImageUrl(a,b.skuThumbId);"string"==typeof h[0]?f.attr("src",h[0]):g("[2] N\u00e3o foi poss\u00edvel obter a imagem p/ o sku \u201c"+l+"\u201d.");s=jQuery(b.regularPricePopupHtml.replace("#regularPrice",k.numberFormat(a.ListPrice))).hide();p=jQuery(b.newPricePopupHtml.replace("#newPrice",k.numberFormat(a.Price)));A=jQuery(b.installmentPricePopupHtml.replace("#installmentQtt",a.BestInstallmentNumber).replace("#installmentValue",
k.numberFormat(a.BestInstallmentValue))).hide();B=jQuery(b.fullPricePopupHtml).hide();q=jQuery("").add(s).add(p).add(A).add(B);a.Price<a.ListPrice&&s.show();1<a.BestInstallmentNumber?A.show():B.show();e.html(q)};"object"==typeof n[l]?C(n[l][0]):jQuery.ajax({url:"/produto/sku/"+l,data:"json",success:function(a,b,c){"object"!==typeof a?g("[1] N\u00e3o foi poss\u00edvel obter a imagem p/ o sku \u201c"+l+"\u201d."):0!=c.status?(m=a[0],n[m.Id]=a,C(m)):g("[3] N\u00e3o foi poss\u00edvel obter a imagem p/ o sku \u201c"+
l+"\u201d.")},error:function(){g("N\u00e3o foi poss\u00edvel obter a imagem p/ o sku \u201c"+l+"\u201d.")}})},numberFormat:function(a){var b="",c="",b="",d,e;a=a.toFixed(2).split(".");c=a[0].split("");d=0;e=c.length;for(var f=a[0].length;0<f;f--)c=a[0].substr(f-1,1),d++,0==d%3&&e>d&&(c="."+c),b=c+b;return b=b+","+a[1]},getImageUrl:function(a,b){var c=[];if(1>a.Images.length)return g("N\u00e3o foram encontradas imagens para o SKU: "+a.Id,"Alerta"),c;for(array in a.Images)for(img in a.Images[array])if(a.Images[array][img].ArchiveTypeId==
b){c.push(a.Images[array][img].Path);break}return c},skuConfigCheckbox:function(a,b,c,d,e){a.each(function(){var f=jQuery(this),g=f.find("[type=radio]"),h;for(h in b.skus)"False"===b.skus[h][1]&&g.filter("[value='"+h+"']").addClass("item_unavaliable").next("label").addClass("item_unavaliable");g.bind("change",function(){var h,m,n,p;p=1<b.specifications;h=jQuery(this);m=[];g.not(h).attr("checked",!1);n=h.val()||"_";"object"==typeof b.skus[n]&&h.is(":checked")&&k.actionsBySku(b,n,d,e);if(h.is(":checked")){if(c.removeClass("sku-picked").next("label").removeClass("sku-picked"),
h.addClass("sku-picked").next("label").addClass("sku-picked"),p){var q=[(h.attr("name")||"").replace("espec_",""),h.val()||""];a.not(f).each(function(){var a=[];jQuery(this).find("[type=radio]").each(function(){a[q[0]]=q[1];a[(this.attr("name")||"").replace("espec_","")]=this.val()||"";m.push(a)})})}}else h.removeClass("sku-picked").next("label").removeClass("sku-picked"),p&&c.removeClass("item_unavaliable").next("label").removeClass("item_unavaliable")})})},skuToCart:function(a,c,d,e){d=d||1;if(isNaN(parseInt(c)))return g("O SKU n\u00e3o \u00e9 um n\u00famero: \u201c"+
c+"\u201d"),!1;if(isNaN(parseInt(d)))return g("A quantidade deve ser num\u00e9rica: \u201c"+d+"\u201d"),!1;var f=e||a.siblings(b.btnOverlayElem);f.show();jQuery.ajax({url:"/Site/Carrinho.aspx?idSku="+c+"&quantidade="+d,success:function(a){k.skuToCartAjaxSuccess(f,c,a);k.updateCart();"function"===typeof b.noCartCallback?b.noCartCallback(c):g("O paramentro 'noCartCallback' deve ser obrigat\u00f3riamente uma fun\u00e7\u00e3o")},error:function(){k.skuToCartAjaxError(f)}})},loadCart:function(a){(a||!d.hasClass("preLoaded"))&&
jQuery.qdAjax({url:"/Site/Carrinho.aspx",success:function(a){k.skuToCartAjaxSuccess(m,0,a,!1);d.addClass("preLoaded");k.scrollAction()},error:function(){k.skuToCartAjaxError(m)},clearQueueDelay:500})},skuToCartAjaxSuccess:function(a,c,d,e){a.hide();if(-1<d.indexOf("Ocorreu um erro"))return k.skuToCartAjaxError();a=jQuery(d);b.succesShow(t);switch(b.htmlFormat){case 1:k.formatCartItens(a,c);break;case 2:k.formatCartItens2(a,c)}("undefined"!==typeof e?e:1)&&k.displayCart();b.ajaxCallback()},skuToCartAjaxError:function(a){a.hide();
g("A requisi\u00e7\u00e3o Ajax para adicionar/alterar o SKU no carrinho \n n\u00e3o obteve a resposta esperada. \n Foi retornado um texto contendo o termo \u201cOcorreu um erro\u201d.");alert(b.ajaxErroMsg);return!1},formatCartItens:function(a,d){var e=a.find(".carrinhoTable"),f=0;if(1>e.length)return!1;e.find("tbody tr").each(function(){var a=jQuery("<li></li>"),e=jQuery(this),j=jQuery('<div class="cartSkuImage"></div>');e.find(".sku-imagem").appendTo(j);j.appendTo(a);var j=jQuery('<div class="cartSkuInfo"></div>'),
g=e.find(".boxQuantidade"),h=g.attr("title")||"";c=parseInt(g.val());e.find("h4").appendTo(j);j.append('<div class="cartSkuUnitPrice">'+(e.find(".preco-unitario").html()||"").toString()+"</div>");var g=jQuery('<div class="cartSkuQtt"><span class="cartSkuQttTxt">'+b.qttText+'<span class="vtexsc-skuQtt">'+(c||"")+"</span></span></div>"),m=g.find(".vtexsc-skuQtt");j.append(g);j.appendTo(a);j=jQuery('<div class="cartSkuActions"></div>');jQuery('<span class="cartSkuRemove">'+b.textRemove+"</span>").bind("click",
function(){k.removeSku(a,(e.find("a.excluir").attr("href")||"").split("IdSkuRm=").pop())}).appendTo(j);var n=jQuery('<span class="cartSkuMoreOne">'+b.textMoreOne+"</span>").bind("click",function(){var b=k.changeQantity([a,m],h,c);isNaN(b)||(c=b)}),q=jQuery('<span class="cartSkuMinusOne">'+b.textMinusOne+"</span>").bind("click",function(){var b=k.changeQantity([a,m],h,c,-1);isNaN(b)||(c=b)}),u=jQuery('<span class="cartSkuChangeQttWrap"></span>');u.append(n).append(q);g.append(u);j.append(u.clone());
j.appendTo(a);"undefined"!==typeof d&&h==d&&b.resetNewItem(a.addClass("vtexsc-newItem"));0===f&&p.empty();a.append("<div class='vtexsc-overlay'></div>");a.appendTo(p);f++})},formatCartItens2:function(a,d){var e=a.find(".carrinhoTable"),f=0;if(1>e.length)return!1;e.find("tbody tr").each(function(){var a=null,e=jQuery(this),j=jQuery("<tr></tr>");j.addClass(e.attr("class")||"");a=jQuery('<td class="cartSkuImage"></td>');e.find(".sku-imagem").appendTo(a);a.appendTo(j);a=jQuery('<td class="cartSkuName"></td>');
e.find("h4").appendTo(a);a.appendTo(j);a=jQuery('<td class="cartSkuPrice"></td>');a.append('<div class="cartSkuUnitPrice">'+(e.find(".preco-unitario").html()||"").toString()+"</div>");a.appendTo(j);var a=jQuery('<td class="cartSkuQunatity"></td>'),g=e.find(".boxQuantidade"),h=g.attr("title")||"";curQtt=parseInt(g.val());var g=jQuery('<div class="cartSkuQtt"><span class="cartSkuQttTxt">'+b.qttText+'<span class="vtexsc-skuQtt">'+(curQtt||"")+"</span></span></div>"),m=g.find(".vtexsc-skuQtt");a.append(g);
a.appendTo(j);c["_"+h]=curQtt;a=jQuery('<td class="cartSkuActions"></td>');remove=jQuery('<span class="cartSkuRemove">'+b.textRemove+"</span>").bind("click",function(){k.removeSku(j,(e.find("a.excluir").attr("href")||"").split("IdSkuRm=").pop())}).appendTo(a);var n=jQuery('<span class="cartSkuMoreOne">'+b.textMoreOne+"</span>").bind("click",function(){var a=k.changeQantity([j,m],h,c["_"+h]);isNaN(a)||(c["_"+h]=a)}),q=jQuery('<span class="cartSkuMinusOne">'+b.textMinusOne+"</span>").bind("click",function(){var a=
k.changeQantity([j,m],h,c["_"+h],-1);isNaN(a)||(c["_"+h]=a)}),u=jQuery('<span class="cartSkuChangeQttWrap"></span>');u.append(n).append(q);g.append(u);a.append(u.clone());a.appendTo(j);"undefined"!==typeof d&&h==d&&b.resetNewItem(j.addClass("vtexsc-newItem"));0===f&&p.empty();j.find(">td").append("<div class='vtexsc-overlay'></div>");j.appendTo(p);f++});k.totalCartFormat(e)},totalCartFormat:function(a){x.html(a.find("tfoot .subtotal .preco-total").text())},scrollNewItem:function(){p.parent().stop(!0,
!0).animate({scrollTop:p.height()||0},"fast")},updateCart:function(){if(!b.noCart){var a;a=$(b.simpleCartSelector);a.length&&a.simpleCart(a.data("qd_simpleCartOpts"));v.show();jQuery.qdAjax({url:"/no-cache/QuantidadeItensCarrinho.aspx",success:k.upCartAjaxSuccess,error:k.upCartAjaxError,clearQueueDelay:500})}},upCartAjaxError:function(){g("Erro ao tentar atualizar o carrinho!")},upCartAjaxSuccess:function(a){var b;a=jQuery(a);b=a.find(".total-cart").text();x.text("R$ "+b.substring(b.search(/\d/)));
a=a.filter(".cartInfoWrapper");0<a.length?jQuery(".cartInfoWrapper").html(a.html()):g("O carrinho n\u00e3o foi atualizado pois \u201c.cartInfoWrapper\u201d n\u00e3o foi encontrado no retorno da requisi\u00e7\u00e3o.");v.hide()},displayCart:function(){b.cartShow(d,k.scrollNewItem);b.cartHide(d,k.hideCart,b.cartHideTime)},removeSku:function(a,c){var d=c||"";if(isNaN(parseInt(d)))return g("O SKU deve ser num\u00e9rico: \u201c"+d+"\u201d"),!1;var e=a.find(".vtexsc-overlay").show()||m;jQuery.ajax({url:"/no-cache/CarrinhoRemove.aspx?IdSkuRm="+
d,success:function(){2===b.htmlFormat?a.hide(function(){k.scrollAction()}).remove():a.slideUp(function(){k.scrollAction();jQuery(this).remove()});e.hide();k.updateCart()}})},scrollAction:function(){d.filter(":hidden").addClass("calculatingTheHeight").css("visibility","hidden").show();var c=p.parent();2===b.htmlFormat?(c.height(),p.find("tr:visible")):(c.height(),p.children().filter(":visible"));d.filter(".calculatingTheHeight").removeClass("calculatingTheHeight").hide().css("visibility","visible");
a.unbind("click").bind("click",function(){var a=p.find("tr:first"),a=0<a.length?a:p.find("li:first");c.stop(!0,!0).animate({scrollTop:"+="+a.outerHeight(!0)+"px"},"fast")});D.unbind("click").bind("click",function(){var a=p.find("tr:first"),a=0<a.length?a:p.find("li:first");c.stop(!0,!0).animate({scrollTop:"-="+a.outerHeight(!0)+"px"},"fast")})},changeQantity:function(a,d,e,f){var g=f||1;if(2>e&&0>g)return e;var h=a[0].find(".vtexsc-overlay").show()||m;e+=g;jQuery.ajax({url:"/no-cache/CarrinhoUpdate.aspx?IdSku="+
d+"&quantidade="+e,success:function(f){h.hide();if(-1<f.indexOf("Ocorreu um erro"))return k.skuToCartAjaxError(m);0<jQuery(f).filter(".cart-items-detail").length?(alert(b.changeQttError),c["_"+d]=e-g):a[1].text(e);k.updateCart()},error:function(){k.skuToCartAjaxError(m)}});return e},hideCart:function(a){a.slideUp()},mouseCartActions:function(){var a={mouseenter:function(){clearTimeout(vtexscCartHideTimeOut);b.cartShow(d,function(){})},mouseleave:function(){b.cartHide(d,k.hideCart,b.cartHideTime)}};
d.filter(":not(.mouseActivated)").bind(a).addClass("mouseActivated");q.filter(":not(.mouseActivated)").bind(a).addClass("mouseActivated")},onlyCart:function(){k.loadCart();k.mouseCartActions()}};if(b.updateCart)k.updateCart();else if(e)k.onlyCart();else{switch(b.method){case 1:k.buyButtons()}k.loadCart();k.mouseCartActions();b.callback()}return f};